<!--
Stratovan Corporation Copyright and Disclaimer Notice:
Copyright (c) 2014 Stratovan Corporation. All Rights Reserved.
Permission to use, copy, modify, and distribute this software and its
documentation without a signed licensing agreement, is hereby granted,
provided that this copyright notice, this paragraph and the following two
paragraphs appear in all copies, modifications, and distributions.
IN NO EVENT SHALL STRATOVAN BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT,
SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS,
ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF
STRATOVAN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
STRATOVAN SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT LIMITED
TO, THE IMPLIED WARRANTIES OF USE AND FITNESS FOR A PARTICULAR PURPOSE. THE
SOFTWARE AND ACCOMPANYING DOCUMENTATION, IF ANY, PROVIDED HEREUNDER IS
PROVIDED "AS IS". STRATOVAN HAS NO OBLIGATION TO PROVIDE MAINTENANCE,
SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS UNLESS DIRECTED BY THE
U.S. GOVERNMENT'S TRANSPORTATION SECURITY ADMINISTRATION (TSA).
-->
<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Stratovan DICOS Toolkit Class Interfaces and Architecture: main.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="DICOS.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DICOS_TOOLKIT_x120.png"/>
     <div id="projectbrief">Stratovan implementation of DICOS v03 specification</div>
   &#160;<span id="projectnumber">Mon Sep 25 2023</span>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b603177d1c3186fd902b084fbd319d0d.html">DICOSExamples</a></li><li class="navelem"><a class="el" href="dir_41ceef1138eaf96ec073370981c954ec.html">examples</a></li><li class="navelem"><a class="el" href="dir_5c897487f58cfb703d1db5e970ab5cde.html">Host</a></li><li class="navelem"><a class="el" href="dir_89410fe943fe61fae4eeb03d1d44e200.html">MultipleConnections</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Host/MultipleConnections/main.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_host_2_multiple_connections_2main_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span><span class="comment">/// Stratovan Corporation Copyright and Disclaimer Notice:</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span><span class="comment">///</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span><span class="comment">/// Copyright (c) 2015 Stratovan Corporation. All Rights Reserved.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"></span><span class="comment">///</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span><span class="comment">/// Permission to use, copy, modify, and distribute this software and its</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span><span class="comment">/// documentation without a signed licensing agreement, is hereby granted,</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span><span class="comment">/// provided that this copyright notice, this paragraph and the following two</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span><span class="comment">/// paragraphs appear in all copies, modifications, and distributions.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span><span class="comment">///</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span><span class="comment">/// IN NO EVENT SHALL STRATOVAN BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span><span class="comment">/// SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span><span class="comment">/// ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"></span><span class="comment">/// STRATOVAN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span><span class="comment">///</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span><span class="comment">/// STRATOVAN SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT LIMITED</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"></span><span class="comment">/// TO, THE IMPLIED WARRANTIES OF USE AND FITNESS FOR A PARTICULAR PURPOSE. THE</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"></span><span class="comment">/// SOFTWARE AND ACCOMPANYING DOCUMENTATION, IF ANY, PROVIDED HEREUNDER IS</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"></span><span class="comment">/// PROVIDED &quot;AS IS&quot;. STRATOVAN HAS NO OBLIGATION TO PROVIDE MAINTENANCE,</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span><span class="comment">/// SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS UNLESS DIRECTED BY THE</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"></span><span class="comment">/// U.S. GOVERNMENT&#39;S TRANSPORTATION SECURITY ADMINISTRATION (TSA).</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"></span><span class="comment">///</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"></span><span class="comment">//////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// This example starts a server that accepts a multiple incoming connection.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_d_i_c_o_s_8h.html">SDICOS/DICOS.h</a>&quot;</span> <span class="comment">//Header for DICOS</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// This class derives from the callback interface class. Override callback functions to process DICOS </span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// data received by the DICOS server. The overridden functions should at least correspond to the API preference</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// selected by the server. The function &#39;OnReceiveDicosFileError()&#39;, which receives errors that occurred </span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// during the transmission, and &#39;OnReceiveDicosFile(DicosData&lt;AttributeManager&gt; &amp;, const ErrorLog &amp;)&#39;, which is called</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// if DcsServer::PreferTagAPI() is called or if an unknown modality is received, must always be overridden.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// Example:</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">//      A call to DcsServer::PreferUserAPI() should have all the user-level API callback functions overridden in the</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//      callback interface class. Only the functions using the expected modalities should be overridden.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//      Functions to override:</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//          -OnReceiveDicosFile(DicosData&lt;SDICOS::CT&gt; &amp;, const ErrorLog &amp;)</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">//          -OnReceiveDicosFile(DicosData&lt;SDICOS::DX&gt; &amp;, const ErrorLog &amp;)</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//          -OnReceiveDicosFile(DicosData&lt;SDICOS::AIT2D&gt; &amp;, const ErrorLog &amp;)</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">//          -OnReceiveDicosFile(DicosData&lt;SDICOS::AIT3D&gt; &amp;, const ErrorLog &amp;)</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//          -OnReceiveDicosFile(DicosData&lt;SDICOS::QR&gt; &amp;, const ErrorLog &amp;)</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//          -OnReceiveDicosFile(DicosData&lt;SDICOS::TDR&gt; &amp;, const ErrorLog &amp;)</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// Example:</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//      A call to DcsServer::PreferModuleAPI() should have all the module-level API callback functions overridden in the</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//      callback interface class. Only the functions using the expected modalities should be overridden.</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//      Functions to override: </span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//          -OnReceiveDicosFile(DicosData&lt;SDICOS::CTModule&gt; &amp;, const ErrorLog &amp;)</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//          -OnReceiveDicosFile(DicosData&lt;SDICOS::DXModule&gt;  &amp;, const ErrorLog &amp;)</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//          -OnReceiveDicosFile(DicosData&lt;SDICOS::AIT2DModule&gt; &amp;, const ErrorLog &amp;)</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//          -OnReceiveDicosFile(DicosData&lt;SDICOS::AIT3DModule&gt; &amp;, const ErrorLog &amp;)</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//          -OnReceiveDicosFile(DicosData&lt;SDICOS::QRModule&gt; &amp;, const ErrorLog &amp;)</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">//          -OnReceiveDicosFile(DicosData&lt;SDICOS::TDRModule&gt; &amp;, const ErrorLog &amp;)</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">class </span>DataProcessing : <span class="keyword">public</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html">SDICOS::Network::IReceiveCallback</a></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#a06c8426b6225b8f1cc60e061f0ac558f">OnReceiveDicosFileError</a>(<span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html">SDICOS::Utils::SessionData</a> &amp;sessiondata);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#a9192af49ed00bdb9601d40bfd78a48d4">OnReceiveDicosFile</a>(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::AttributeManager&gt;</a> &amp;manager, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#a9192af49ed00bdb9601d40bfd78a48d4">OnReceiveDicosFile</a>(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::CT&gt;</a> &amp;ct, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#a9192af49ed00bdb9601d40bfd78a48d4">OnReceiveDicosFile</a>(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::DX&gt;</a> &amp;dx, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#a9192af49ed00bdb9601d40bfd78a48d4">OnReceiveDicosFile</a>(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::AIT2D&gt;</a> &amp;ait, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#a9192af49ed00bdb9601d40bfd78a48d4">OnReceiveDicosFile</a>(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::AIT3D&gt;</a> &amp;ait, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#a9192af49ed00bdb9601d40bfd78a48d4">OnReceiveDicosFile</a>(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::TDR&gt;</a> &amp;tdr, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">    /// Override for callback when a C-Echo is received</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">    /// @param sessiondata Holds all client-server related data</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">    /// @param errorlog Error log</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#a98fa73160403d255106b11d8acaac27a">OnReceiveDicosEcho</a>(<span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html">SDICOS::Utils::SessionData</a>&amp; sessiondata, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a>&amp; errorlog);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;};</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="_host_2_multiple_connections_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">   80</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="_host_2_multiple_connections_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>()</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    DataProcessing              icallback;  <span class="comment">// Callback interface</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html">SDICOS::Network::DcsServer</a>  server;     <span class="comment">// DICOS server</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// Set the IP Address to listen on for incoming connections.</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">//SDICOS::DcsString IPAddress(&quot;127.0.0.1&quot;);</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">//server.SetIP(IPAddress);</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// Set the port to listen on for incoming connections</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#ad56a76446f6552d83443754e40a0a36c">SetPort</a>(1000);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// Set the name of this application. Must be no longer than 16 letters.</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a070fd42e3ab8a496223e5a0ff4899ff9">SetApplicationName</a>(<span class="stringliteral">&quot;ServerExample&quot;</span>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">    ///////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"></span>    <span class="comment">// Two functions for configuring if compression is allowed to be sent from clients.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// Although both are used below for demonstration purposes, choose one of them.</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// By default, the server prioritizes data compression.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">//Refuse connection if client can only send compressed data</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a7e32e8b8576bae62939bf8623b74036e">DisableDataCompression</a>();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">//True = Prefer clients to send compressed data.</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">//False = Prefer clients to send uncompressed data, but still accept compressed data.</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#af93fbd9c13c6340cfae46024f53a2bf2">PrioritizeDataCompression</a>(<span class="keyword">false</span>);<span class="comment"></span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">    ///////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// Start the server using the specified callback interface using default preferred API to User-Level.</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// This is a non-blocking function call. This function starts a separate thread for connection processing.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// The first parameter is the callback interface that is used by the server to send the user data </span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// as received by the server. All connections share the same callback interface; therefore, the </span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// function must exit in order to receive more data. The callback interface can be changed</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// after StartListening() has been called by calling UpdateCallback() and passing in the new</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// interface.</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// The second parameter sets the callback interface for verifying client&#39;s application names, user names,</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// and passcodes.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// The third parameter, default SDICOS::Network::DcsServer::enumMethodUserAPI, sets the preferred API</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// to use in the callback interface. If the preferred API cannot be used, then the Tag-Level API is called.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// The preferred API can be changed after StartListening() has been called by calling UpdateCallback() and</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// passing in an SDICOS::Network::DcsServer::RETRIEVE_METHOD enumeration.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span>(!server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a5d856ec60ae14563db62b38990f487e8">StartListening</a>(icallback))</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Failed to start DICOS server. IP:Port: &quot;</span> &lt;&lt; server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#af8bf33a9f2dc5e01317b4ec8b3eaec69">GetIP</a>() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a4480e848bde954eec04c43c0b51f9792">GetPort</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// Print message for manually stopping the server</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;\nPress enter to stop server&quot;</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    std::cin.get(); <span class="comment">//Pause here until user presses the &#39;Enter&#39; key</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// Stop the server</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a2ffe0305b5c56c7210347ba7827900ef">StopListening</a>();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">// [User-Level API] Process all CT modalities received by the server</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#ae3d7fc585292bb328fde11e2eb344999">DataProcessing::OnReceiveDicosFile</a>(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::CT&gt;</a> &amp;ct, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// The following are a few examples of what to do with the data:</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// -Write to a file using the function &#39;ct-&gt;Write()&#39;</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// -Access data through several of the &#39;get&#39; functions</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// -Gain ownership of data for processing later using the function &#39;ct.TakeOwnership()&#39;</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// -Gain ownership of Tag-Level API with original data using the function &#39;ct.TakeOwnershipOriginal()&#39;</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">//Gain ownership of data for processing later using the function &#39;ct.TakeOwnership()&#39;</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">//If ownership is not taken with this function, the data is deleted when the function exits.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="class_s_d_i_c_o_s_1_1_c_t.html">SDICOS::CT</a> *pCT = <a class="code" href="_memory_8h.html#acd77c818b211a0ecb1e79ec3f228ae8e">S_NULL</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    ct.<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html#a769e5bbaa37e937cb6bac9c789910a78">TakeOwnership</a>(pCT);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="namespace_s_d_i_c_o_s.html#ace46b9dfd5b8ed057c8e6d698411b52d">DELETE_POINTER</a>(pCT);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">//Gain ownership of original Tag-Level API data for processing later using the function &#39;ct.TakeOwnershipOriginal()&#39;</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">//If ownership is not taken with this function, the data is deleted when the function exits.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="class_s_d_i_c_o_s_1_1_attribute_manager.html">SDICOS::AttributeManager</a> *pmanagerOriginal = <a class="code" href="_memory_8h.html#acd77c818b211a0ecb1e79ec3f228ae8e">S_NULL</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    ct.<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html#a27fd98ceea50dd28a76317b1d0bb5c4c">TakeOwnershipOriginal</a>(pmanagerOriginal);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="namespace_s_d_i_c_o_s.html#ace46b9dfd5b8ed057c8e6d698411b52d">DELETE_POINTER</a>(pmanagerOriginal);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">//Print connection information</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    std::cout&lt;&lt;ct.<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_base.html#a3d82529b257ae0031d60a3bce7841538">GetClientIP</a>().Get()&lt;&lt;std::endl;   <span class="comment">//Client IP address that sent the data</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    std::cout&lt;&lt;ct.<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_base.html#adb256bbfe89a681993c55d29f9e872db">GetServerIP</a>().Get()&lt;&lt;std::endl;   <span class="comment">//Server IP address that received the data</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    std::cout&lt;&lt;ct.<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_base.html#a288d43b1277dd11b0385429e381efb08">GetServerPort</a>()&lt;&lt;std::endl;       <span class="comment">//Server port number</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">// [User-Level API] Process all DX modalities received by the server</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#ae3d7fc585292bb328fde11e2eb344999">DataProcessing::OnReceiveDicosFile</a>(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::DX&gt;</a> &amp;dx, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="comment">// The following are a few examples of what to do with the data:</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// -Write to a file using the function &#39;dx-&gt;Write()&#39;</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// -Access data through several of the &#39;get&#39; functions</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// -Gain ownership of data for processing later using the function &#39;dx.TakeOwnership()&#39;</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// -Gain ownership of Tag-Level API with original data using the function &#39;dx.TakeOwnershipOriginal()&#39;</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">// [User-Level API] Process all AIT 2D modalities received by the server</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#ae3d7fc585292bb328fde11e2eb344999">DataProcessing::OnReceiveDicosFile</a>(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::AIT2D&gt;</a> &amp;ait, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">// The following are a few examples of what to do with the data:</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// -Write to a file using the function &#39;ait-&gt;Write()&#39;</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// -Access data through several of the &#39;get&#39; functions</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// -Gain ownership of data for processing later using the function &#39;ait.TakeOwnership()&#39;</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">// [User-Level API] Process all AIT 3D modalities received by the server</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#ae3d7fc585292bb328fde11e2eb344999">DataProcessing::OnReceiveDicosFile</a>(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::AIT3D&gt;</a> &amp;ait, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;{</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// The following are a few examples of what to do with the data:</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// -Write to a file using the function &#39;ait-&gt;Write()&#39;</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// -Access data through several of the &#39;get&#39; functions</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// -Gain ownership of data for processing later using the function &#39;ait.TakeOwnership()&#39;</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// -Gain ownership of Tag-Level API with original data using the function &#39;ait.TakeOwnershipOriginal()&#39;</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">// [User-Level API] Process all TDR modalities received by the server</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#ae3d7fc585292bb328fde11e2eb344999">DataProcessing::OnReceiveDicosFile</a>(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::TDR&gt;</a> &amp;tdr, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// The following are a few examples of what to do with the data:</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// -Write to a file using the function &#39;tdr-&gt;Write()&#39;</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// -Access data through several of the &#39;get&#39; functions</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// -Gain ownership of data for processing later using the function &#39;tdr.TakeOwnership()&#39;</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// -Gain ownership of Tag-Level API with original data using the function &#39;ait.TakeOwnershipOriginal()&#39;</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">// This function is only called when an error occurred during the DICOS network session</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">// that prevented any modalities from being processed. Overriding this function is required by any derived class.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="keywordtype">void</span> DataProcessing::OnReceiveDicosFileError(<span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html">SDICOS::Utils::SessionData</a> &amp;sessiondata)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">//Check the error log for errors and warnings with &#39;errorlog.GetErrorLog()&#39;</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">//or write error log to file &#39;errorlog.WriteLog()&#39;</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">//or print out the error</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    std::cout&lt;&lt;errorlog&lt;&lt;std::endl;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">// This function is only called when the host receives a C-Echo from a client</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keywordtype">void</span> DataProcessing::OnReceiveDicosEcho(<span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html">SDICOS::Utils::SessionData</a>&amp; sessiondata, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a>&amp; errorlog)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">//Below are examples of how to identify which client sent the c-echo</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    sessiondata.<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html#a4efc6c35fe6b7166eed3813c0407acf9">m_dsClientAppName</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    sessiondata.<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html#a1a6a46607955c09578d1a5fb22b0897a">m_dsClientIP</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    sessiondata.<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html#a5024e1038051bd7cd43ba91dfe502797">m_nClientPort</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">// [Tag-Level API] Process DICOS data at received by the server</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#ae3d7fc585292bb328fde11e2eb344999">DataProcessing::OnReceiveDicosFile</a>(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::AttributeManager&gt;</a> &amp;manager, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// The following are a few examples of what to do with the data:</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">// -Write to a file using the function &#39;manager-&gt;Write()&#39;</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// -Access data using the &#39;manager-&gt;FindAttribute()&#39; functions</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_a070fd42e3ab8a496223e5a0ff4899ff9"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a070fd42e3ab8a496223e5a0ff4899ff9">SDICOS::Network::DcsServer::SetApplicationName</a></div><div class="ttdeci">bool SetApplicationName(const DcsApplicationEntity &amp;ae)</div><div class="ttdoc">Set application name (i.e.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_c_t_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_c_t.html">SDICOS::CT</a></div><div class="ttdoc">Represents a single CT scan with original pixel data.</div><div class="ttdef"><b>Definition:</b> <a href="_user_c_t_8h_source.html#l00196">UserCT.h:202</a></div></div>
<div class="ttc" id="anamespace_s_d_i_c_o_s_html_ace46b9dfd5b8ed057c8e6d698411b52d"><div class="ttname"><a href="namespace_s_d_i_c_o_s.html#ace46b9dfd5b8ed057c8e6d698411b52d">SDICOS::DELETE_POINTER</a></div><div class="ttdeci">void DELETE_POINTER(CType *&amp;pointer)</div><div class="ttdoc">Delete dynamically allocated memory.</div><div class="ttdef"><b>Definition:</b> <a href="_memory_8h_source.html#l00101">Memory.h:101</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html">SDICOS::Network::IReceiveCallback</a></div><div class="ttdoc">Interface for callback functions used by DcsClient and DcsServer. Each function is a blocking call fo...</div><div class="ttdef"><b>Definition:</b> <a href="_i_receive_callback_8h_source.html#l00053">IReceiveCallback.h:54</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_a4480e848bde954eec04c43c0b51f9792"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a4480e848bde954eec04c43c0b51f9792">SDICOS::Network::DcsServer::GetPort</a></div><div class="ttdeci">S_INT32 GetPort() const</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html">SDICOS::Network::DcsServer</a></div><div class="ttdoc">The DICOS server uses the DICOM protocol for receiving data over a TCP/IP connection.</div><div class="ttdef"><b>Definition:</b> <a href="_host_8h_source.html#l00053">Host.h:54</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback_html_a98fa73160403d255106b11d8acaac27a"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#a98fa73160403d255106b11d8acaac27a">SDICOS::Network::IReceiveCallback::OnReceiveDicosEcho</a></div><div class="ttdeci">virtual void OnReceiveDicosEcho(const SDICOS::Utils::SessionData &amp;sessiondata, const SDICOS::ErrorLog &amp;errorlog)</div><div class="ttdoc">Override for callback when a C-Echo is received.</div></div>
<div class="ttc" id="a_memory_8h_html_acd77c818b211a0ecb1e79ec3f228ae8e"><div class="ttname"><a href="_memory_8h.html#acd77c818b211a0ecb1e79ec3f228ae8e">S_NULL</a></div><div class="ttdeci">#define S_NULL</div><div class="ttdoc">Stratovan Corporation Copyright and Disclaimer Notice:</div><div class="ttdef"><b>Definition:</b> <a href="_memory_8h_source.html#l00032">Memory.h:31</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_error_log_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a></div><div class="ttdoc">Implements ErrorLog.</div><div class="ttdef"><b>Definition:</b> <a href="_error_log_8h_source.html#l00054">ErrorLog.h:55</a></div></div>
<div class="ttc" id="a_d_i_c_o_s_8h_html"><div class="ttname"><a href="_d_i_c_o_s_8h.html">DICOS.h</a></div></div>
<div class="ttc" id="a_host_2_multiple_connections_2main_8cpp_html_ae66f6b31b5ad750f1fe042a706a4e3d4"><div class="ttname"><a href="_host_2_multiple_connections_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a></div><div class="ttdeci">int main()</div><div class="ttdef"><b>Definition:</b> <a href="_host_2_multiple_connections_2main_8cpp_source.html#l00080">Host/MultipleConnections/main.cpp:80</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback_html_ae3d7fc585292bb328fde11e2eb344999"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#ae3d7fc585292bb328fde11e2eb344999">SDICOS::Network::IReceiveCallback::OnReceiveDicosFile</a></div><div class="ttdeci">virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt; SDICOS::CTModule &gt; &amp;ct, const SDICOS::ErrorLog &amp;errorlog)</div><div class="ttdoc">[Module-Level API] Override for callback function when data is received</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_base_html_adb256bbfe89a681993c55d29f9e872db"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_base.html#adb256bbfe89a681993c55d29f9e872db">SDICOS::Utils::DicosDataBase::GetServerIP</a></div><div class="ttdeci">const DcsString &amp; GetServerIP() const</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_html_a769e5bbaa37e937cb6bac9c789910a78"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html#a769e5bbaa37e937cb6bac9c789910a78">SDICOS::Utils::DicosData::TakeOwnership</a></div><div class="ttdeci">void TakeOwnership(TYPE *&amp;pdata)</div><div class="ttdoc">Removes data ownership from this object into the parameter.</div><div class="ttdef"><b>Definition:</b> <a href="_utils_8h_source.html#l00269">Utils.h:269</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_a5d856ec60ae14563db62b38990f487e8"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a5d856ec60ae14563db62b38990f487e8">SDICOS::Network::DcsServer::StartListening</a></div><div class="ttdeci">bool StartListening(IReceiveCallback &amp;icallback, IClientAuthenticationCallback *pIClientVerificationCallback=S_NULL, const RETRIEVE_METHOD nPreferAPI=DcsServer::enumMethodUserAPI, const bool bProcessDataOnSessionEnd=false)</div><div class="ttdoc">(Non-blocking call) Start the server to process DICOS data received by incoming client connections.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_attribute_manager_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_attribute_manager.html">SDICOS::AttributeManager</a></div><div class="ttdoc">Holds all the attributes.</div><div class="ttdef"><b>Definition:</b> <a href="_attribute_8h_source.html#l02994">Attribute.h:2995</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_af8bf33a9f2dc5e01317b4ec8b3eaec69"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#af8bf33a9f2dc5e01317b4ec8b3eaec69">SDICOS::Network::DcsServer::GetIP</a></div><div class="ttdeci">DcsString GetIP() const</div><div class="ttdoc">Returns the server's IP address.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_session_data_html_a5024e1038051bd7cd43ba91dfe502797"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html#a5024e1038051bd7cd43ba91dfe502797">SDICOS::Utils::SessionData::m_nClientPort</a></div><div class="ttdeci">S_UINT32 m_nClientPort</div><div class="ttdoc">Port that client sent the data.</div><div class="ttdef"><b>Definition:</b> <a href="_utils_8h_source.html#l00468">Utils.h:468</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_a2ffe0305b5c56c7210347ba7827900ef"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a2ffe0305b5c56c7210347ba7827900ef">SDICOS::Network::DcsServer::StopListening</a></div><div class="ttdeci">void StopListening()</div><div class="ttdoc">(Blocking call) Stop listening to port. Terminates all DICOS connections.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_session_data_html_a4efc6c35fe6b7166eed3813c0407acf9"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html#a4efc6c35fe6b7166eed3813c0407acf9">SDICOS::Utils::SessionData::m_dsClientAppName</a></div><div class="ttdeci">DcsString m_dsClientAppName</div><div class="ttdoc">Client application name.</div><div class="ttdef"><b>Definition:</b> <a href="_utils_8h_source.html#l00465">Utils.h:465</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_session_data_html_a1a6a46607955c09578d1a5fb22b0897a"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html#a1a6a46607955c09578d1a5fb22b0897a">SDICOS::Utils::SessionData::m_dsClientIP</a></div><div class="ttdeci">DcsString m_dsClientIP</div><div class="ttdoc">IP of client that sent data.</div><div class="ttdef"><b>Definition:</b> <a href="_utils_8h_source.html#l00467">Utils.h:467</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_session_data_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html">SDICOS::Utils::SessionData</a></div><div class="ttdef"><b>Definition:</b> <a href="_utils_8h_source.html#l00439">Utils.h:440</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData</a></div><div class="ttdoc">Structure for holding DICOS used in callback functions. Data can be moved out of this object.</div><div class="ttdef"><b>Definition:</b> <a href="_utils_8h_source.html#l00182">Utils.h:183</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_a7e32e8b8576bae62939bf8623b74036e"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a7e32e8b8576bae62939bf8623b74036e">SDICOS::Network::DcsServer::DisableDataCompression</a></div><div class="ttdeci">void DisableDataCompression()</div><div class="ttdoc">Disable data compression transfer syntax.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_base_html_a288d43b1277dd11b0385429e381efb08"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_base.html#a288d43b1277dd11b0385429e381efb08">SDICOS::Utils::DicosDataBase::GetServerPort</a></div><div class="ttdeci">S_UINT32 GetServerPort() const</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback_html_a06c8426b6225b8f1cc60e061f0ac558f"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#a06c8426b6225b8f1cc60e061f0ac558f">SDICOS::Network::IReceiveCallback::OnReceiveDicosFileError</a></div><div class="ttdeci">virtual void OnReceiveDicosFileError(const SDICOS::ErrorLog &amp;errorlog, const SDICOS::Utils::SessionData &amp;sessiondata)=0</div><div class="ttdoc">[Error] Override for callback function when errors occur and client session completes</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback_html_a9192af49ed00bdb9601d40bfd78a48d4"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html#a9192af49ed00bdb9601d40bfd78a48d4">SDICOS::Network::IReceiveCallback::OnReceiveDicosFile</a></div><div class="ttdeci">virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt; SDICOS::AttributeManager &gt; &amp;manager, const SDICOS::ErrorLog &amp;errorlog)=0</div><div class="ttdoc">[Tag-Level API or Unknown Data] Override for callback function when data is received.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_base_html_a3d82529b257ae0031d60a3bce7841538"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_base.html#a3d82529b257ae0031d60a3bce7841538">SDICOS::Utils::DicosDataBase::GetClientIP</a></div><div class="ttdeci">const DcsString &amp; GetClientIP() const</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_html_a27fd98ceea50dd28a76317b1d0bb5c4c"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html#a27fd98ceea50dd28a76317b1d0bb5c4c">SDICOS::Utils::DicosData::TakeOwnershipOriginal</a></div><div class="ttdeci">void TakeOwnershipOriginal(AttributeManager *&amp;pmanagerOriginal)</div><div class="ttdoc">Take ownership of the original Tag-Level data from this object.</div><div class="ttdef"><b>Definition:</b> <a href="_utils_8h_source.html#l00354">Utils.h:354</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_af93fbd9c13c6340cfae46024f53a2bf2"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#af93fbd9c13c6340cfae46024f53a2bf2">SDICOS::Network::DcsServer::PrioritizeDataCompression</a></div><div class="ttdeci">void PrioritizeDataCompression(const bool bPrioritize)</div><div class="ttdoc">Set parameter to true to prioritize using compression transfer syntaxes for data transfers between th...</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_ad56a76446f6552d83443754e40a0a36c"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#ad56a76446f6552d83443754e40a0a36c">SDICOS::Network::DcsServer::SetPort</a></div><div class="ttdeci">bool SetPort(const S_INT32 nPort)</div><div class="ttdoc">Set listening port.</div></div>
<!--
Stratovan Corporation Copyright and Disclaimer Notice:
Copyright (c) 2014 Stratovan Corporation. All Rights Reserved.
Permission to use, copy, modify, and distribute this software and its
documentation without a signed licensing agreement, is hereby granted,
provided that this copyright notice, this paragraph and the following two
paragraphs appear in all copies, modifications, and distributions.
IN NO EVENT SHALL STRATOVAN BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT,
SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS,
ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF
STRATOVAN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
STRATOVAN SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT LIMITED
TO, THE IMPLIED WARRANTIES OF USE AND FITNESS FOR A PARTICULAR PURPOSE. THE
SOFTWARE AND ACCOMPANYING DOCUMENTATION, IF ANY, PROVIDED HEREUNDER IS
PROVIDED "AS IS". STRATOVAN HAS NO OBLIGATION TO PROVIDE MAINTENANCE,
SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS UNLESS DIRECTED BY THE
U.S. GOVERNMENT'S TRANSPORTATION SECURITY ADMINISTRATION (TSA).
-->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
    <center>Copyright (c) 2014 by Stratovan Corporation</br>
    Generated on Mon Sep 25 2023 00:04:55 for Stratovan DICOS Toolkit Class Interfaces and Architecture by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18</center>
</small></address>
</body>
</html>
