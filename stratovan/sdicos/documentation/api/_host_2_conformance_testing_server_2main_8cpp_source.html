<!--
Stratovan Corporation Copyright and Disclaimer Notice:
Copyright (c) 2014 Stratovan Corporation. All Rights Reserved.
Permission to use, copy, modify, and distribute this software and its
documentation without a signed licensing agreement, is hereby granted,
provided that this copyright notice, this paragraph and the following two
paragraphs appear in all copies, modifications, and distributions.
IN NO EVENT SHALL STRATOVAN BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT,
SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS,
ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF
STRATOVAN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
STRATOVAN SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT LIMITED
TO, THE IMPLIED WARRANTIES OF USE AND FITNESS FOR A PARTICULAR PURPOSE. THE
SOFTWARE AND ACCOMPANYING DOCUMENTATION, IF ANY, PROVIDED HEREUNDER IS
PROVIDED "AS IS". STRATOVAN HAS NO OBLIGATION TO PROVIDE MAINTENANCE,
SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS UNLESS DIRECTED BY THE
U.S. GOVERNMENT'S TRANSPORTATION SECURITY ADMINISTRATION (TSA).
-->
<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Stratovan DICOS Toolkit Class Interfaces and Architecture: main.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="DICOS.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DICOS_TOOLKIT_x120.png"/>
     <div id="projectbrief">Stratovan implementation of DICOS v03 specification</div>
   &#160;<span id="projectnumber">Mon Sep 25 2023</span>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b603177d1c3186fd902b084fbd319d0d.html">DICOSExamples</a></li><li class="navelem"><a class="el" href="dir_41ceef1138eaf96ec073370981c954ec.html">examples</a></li><li class="navelem"><a class="el" href="dir_5c897487f58cfb703d1db5e970ab5cde.html">Host</a></li><li class="navelem"><a class="el" href="dir_4a4e4b328f83eb2f62b92a75840bfcbd.html">ConformanceTestingServer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Host/ConformanceTestingServer/main.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_host_2_conformance_testing_server_2main_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span><span class="comment">/// Stratovan Corporation Copyright and Disclaimer Notice:</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span><span class="comment">///</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span><span class="comment">/// Copyright (c) 2015 Stratovan Corporation. All Rights Reserved.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"></span><span class="comment">///</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span><span class="comment">/// Permission to use, copy, modify, and distribute this software and its</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span><span class="comment">/// documentation without a signed licensing agreement, is hereby granted,</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span><span class="comment">/// provided that this copyright notice, this paragraph and the following two</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span><span class="comment">/// paragraphs appear in all copies, modifications, and distributions.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span><span class="comment">///</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span><span class="comment">/// IN NO EVENT SHALL STRATOVAN BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span><span class="comment">/// SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span><span class="comment">/// ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"></span><span class="comment">/// STRATOVAN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span><span class="comment">///</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span><span class="comment">/// STRATOVAN SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT LIMITED</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"></span><span class="comment">/// TO, THE IMPLIED WARRANTIES OF USE AND FITNESS FOR A PARTICULAR PURPOSE. THE</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"></span><span class="comment">/// SOFTWARE AND ACCOMPANYING DOCUMENTATION, IF ANY, PROVIDED HEREUNDER IS</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"></span><span class="comment">/// PROVIDED &quot;AS IS&quot;. STRATOVAN HAS NO OBLIGATION TO PROVIDE MAINTENANCE,</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span><span class="comment">/// SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS UNLESS DIRECTED BY THE</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"></span><span class="comment">/// U.S. GOVERNMENT&#39;S TRANSPORTATION SECURITY ADMINISTRATION (TSA).</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"></span><span class="comment">///</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"></span><span class="comment">//////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// This example shows how to utilize the User-Level API to receive and process a DICOS object over the network</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// check that it is valid and save the error report to a file. The location where logs are placed</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// must be specified on the command line.</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// To run the example first start the DICOS Server with an ip address and port and then</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// run a DICOS Client Application that is initialized to send data to the server in this example.</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// </span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_d_i_c_o_s_8h.html">SDICOS/DICOS.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#ifndef EXIT_FAILURE</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">    #define EXIT_FAILURE 1</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="_host_2_conformance_testing_server_2main_8cpp.html#a73efe787c131b385070f25d18b7c9aa4">   44</a></span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#ifndef EXIT_SUCCESS</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">    #define EXIT_SUCCESS</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="_host_2_conformance_testing_server_2main_8cpp.html#a687984f47d8cce148d1b914d2b79612a">   48</a></span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="namespace_conformance_testing.html">   50</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_conformance_testing.html">ConformanceTesting</a></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> * \class DICOSCallbackHandler</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"> * The DICOSCallbackHandler class implements the SDICOS::Network::IReceiveCallback interface methods to</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"> * process DICOS files received from a DICOS Server. The callback handler is registered with the DcsServer object </span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"> * by calling SDICOS::DcsServer::StartListening() along with a flag indicating indicating which </span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"> * API level, (User, Module or Tag) should be called when DICOS files are received.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"> * &lt;b&gt;IMPORTANT IMPLEMENTATION DETAILS&lt;/b&gt;:</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"> *  </span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"> *  The DcsServer uses a separate thread to dispatch received DICOS files to the SDICOS::Network::IReceiveCallback handler.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"> *  This thread blocks on these callbacks so the callback implementations must be fast and deterministic.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"> *  In general, when used in conjunction with a DcsServer the implementation of methods in SDICOS::Network::IReceiveCallback should take ownership</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"> *  of the DICOS data, pass it to a processing thread and return.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> * This example handler implements the callbacks for the User-Level, Module-Level API, Tag-Level API and error handler.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> * User Level API Callbacks:</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> *      - void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::CT&gt; &amp;ct, const SDICOS::ErrorLog &amp;errorlog)</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::DX&gt; &amp;dx, const SDICOS::ErrorLog &amp;errorlog)</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::AIT2D&gt; &amp;ait, const SDICOS::ErrorLog &amp;errorlog)</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::AIT3D&gt; &amp;ait, const SDICOS::ErrorLog &amp;errorlog)</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::QR&gt; &amp;tdr, const SDICOS::ErrorLog &amp;errorlog)</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::TDR&gt; &amp;tdr, const SDICOS::ErrorLog &amp;errorlog)</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"> * Module-Level API Callbacks:</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::CTModule&gt; &amp;ct, const SDICOS::ErrorLog &amp;errorlog)</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::AIT2DModule&gt; &amp;ait, const SDICOS::ErrorLog &amp;errorlog)</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::AIT3DModule&gt; &amp;ait, const SDICOS::ErrorLog &amp;errorlog)</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::DXModule&gt; &amp;dx, const SDICOS::ErrorLog &amp;errorlog)</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::QRModule&gt; &amp;qr, const SDICOS::ErrorLog &amp;errorlog)</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::TDRModule&gt; &amp;tdr, const SDICOS::ErrorLog &amp;errorlog)</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"> *  </span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"> * Tag-Level API Callback. This is a pure virtual method and must be implemented.</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFile(SDICOS::Utils::DicosData&lt;SDICOS::AttributeManager&gt; &amp;manager, const SDICOS::ErrorLog &amp;errorlog) </span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"> * Error Handler Callback. This is a pure virtual method and must be implemented.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment"> *      - virtual void OnReceiveDicosFileError(const SDICOS::ErrorLog &amp;errorlog, const SDICOS::Utils::SessionData &amp;sessiondata)</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword">class </span>DICOSCallbackHandler : <span class="keyword">public</span> <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html">SDICOS::Network::IReceiveCallback</a></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> DICOS_MODULE_DATA_TYPE&gt;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordtype">bool</span> ValidateDICOSModuleData(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;DICOS_MODULE_DATA_TYPE&gt;</a>&amp; dicosData, <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a>&amp; errorLog)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            DICOS_MODULE_DATA_TYPE* pData(0);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            dicosData.<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html#a769e5bbaa37e937cb6bac9c789910a78">TakeOwnership</a>(pData);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordtype">bool</span> bRes(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">if</span>(pData)</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                bRes = pData-&gt;IsValid(errorLog);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">return</span> bRes;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFile(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::CT&gt;</a> &amp;ct, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="comment">// Handle CT Object using the User-API</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="comment">// The DcsServer thread that dispatches DICOS Data to callback methods blocks until the callback returns.</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="comment">// Non-trivial callback implementations should take ownership of the data, pass it to a processing thread</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="comment">// and return control to the DcsServer.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="comment">// Take ownership of DICOS Data and pass it to a thread for processing. The caller is now responsible for deleting it.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="class_s_d_i_c_o_s_1_1_c_t.html">SDICOS::CT</a>* pCTData(NULL);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        ct.<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html#a769e5bbaa37e937cb6bac9c789910a78">TakeOwnership</a>(pCTData);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="comment">// ct is now invalidated and cannot be used</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">if</span>(pCTData) </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> errorLog;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="comment">// Simple example of logging information when a DICOS file is received.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;User-API CT&quot;</span>, pCTData-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_i_o_d_common.html#a41298db2be00a8966aa16caeb44ad488">GetSopInstanceUID</a>(), errorlog);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="comment">// Pass the data to a processing thread and return</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            this-&gt;ProcessCTDataOnAnotherThread(pCTData);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        } </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;User-API CT&quot;</span>, <span class="stringliteral">&quot;Unable to take ownership of DICOS data.&quot;</span>, errorlog);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFile(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::DX&gt;</a> &amp;dx, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="comment">// Handle DX object using User API</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;User-API DX&quot;</span>, dx-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_i_o_d_common.html#a41298db2be00a8966aa16caeb44ad488">GetSopInstanceUID</a>(), errorlog);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFile(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::AIT2D&gt;</a> &amp;ait, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment">// Handle AIT2D object using User API</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;User-API AIT2D&quot;</span>,ait-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_i_o_d_common.html#a41298db2be00a8966aa16caeb44ad488">GetSopInstanceUID</a>(), errorlog);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFile(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::AIT3D&gt;</a> &amp;ait, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="comment">// Handle ATI3D object using User API</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;User-API AIT3D&quot;</span>, ait-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_i_o_d_common.html#a41298db2be00a8966aa16caeb44ad488">GetSopInstanceUID</a>(), errorlog);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFile(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::TDR&gt;</a> &amp;tdr, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="comment">// Handle TDR object using the User API</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;User-API TDR&quot;</span>, tdr-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_i_o_d_common.html#a41298db2be00a8966aa16caeb44ad488">GetSopInstanceUID</a>(), errorlog);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFile(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::CTModule&gt;</a> &amp;ct, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="comment">// Handle CTModule object using Module-Level API.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;Module-API CT&quot;</span>, ct-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_scanner_common.html#ab7916fd0a91efe17a207a3cc89267b9d">GetSopCommon</a>().GetSopInstanceUID(), errorlog);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFile(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::AIT2DModule&gt;</a> &amp;ait, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="comment">// Handle AIT2DModule object using Module-Level API.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;Module-API AIT2D&quot;</span>,ait-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_scanner_common.html#ab7916fd0a91efe17a207a3cc89267b9d">GetSopCommon</a>().GetSopInstanceUID(), errorlog);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFile(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::AIT3DModule&gt;</a> &amp;ait, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="comment">// Handle AIT3DModule object using Module-Level API.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;Module-API AIT3D&quot;</span>, ait-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_scanner_common.html#ab7916fd0a91efe17a207a3cc89267b9d">GetSopCommon</a>().GetSopInstanceUID(), errorlog);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFile(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::DXModule&gt;</a> &amp;dx, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="comment">// Handle DXModule objects using Module-Level API.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;Module-API DX&quot;</span>, dx-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_scanner_common.html#ab7916fd0a91efe17a207a3cc89267b9d">GetSopCommon</a>().GetSopInstanceUID(), errorlog);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFile(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::QRModule&gt;</a> &amp;qr, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="comment">// Handle QRModule objects using the Module-Level API.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;Module-API QR&quot;</span>,qr-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_scanner_common.html#ab7916fd0a91efe17a207a3cc89267b9d">GetSopCommon</a>().GetSopInstanceUID(), errorlog);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFile(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::TDRModule&gt;</a> &amp;tdr, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="comment">// Handle TDRModule objects using the Module-Level API.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;Module-API TDR&quot;</span>,tdr-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_scanner_common.html#ab7916fd0a91efe17a207a3cc89267b9d">GetSopCommon</a>().GetSopInstanceUID(), errorlog);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFile(<a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData&lt;SDICOS::AttributeManager&gt;</a> &amp;manager, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment">// Catch all callback that handles DICOS data which does not fall into one of the expected callbacks</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">// for the User API or Module API.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">// This method is a pure virtual method and must be overridden.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        std::stringbuf buffer;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        std::ostream os(&amp;buffer);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="class_s_d_i_c_o_s_1_1_linked_list.html">SDICOS::AttributeManager::TagList</a> tl;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        manager-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_attribute_manager.html#ab80c4e9b880ba5284b657533bb93da6d">GetTagListing</a>(tl,<span class="keyword">true</span>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;Num Attributes&quot;</span> &lt;&lt; tl.<a class="code" href="class_s_d_i_c_o_s_1_1_linked_list.html#ac0af6f5e99aad03e05216d26b5b84a01">Length</a>();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;Transfer Syntax &quot;</span> &lt;&lt; manager-&gt;<a class="code" href="class_s_d_i_c_o_s_1_1_attribute_manager.html#a1c8f02752c20efa9e1e3a51f2b600721">GetTransferSyntax</a>();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;Errors &quot;</span> &lt;&lt; errorlog;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;Tag-Level AttributeManager&quot;</span>, buffer.str().c_str());</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnReceiveDicosFileError(<span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a> &amp;errorlog, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html">SDICOS::Utils::SessionData</a> &amp;sessiondata)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="comment">// Handle errors retrieving Dicos Files</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="comment">// This method is a pure virtual method and must be overridden.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        std::stringbuf buffer;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        std::ostream os(&amp;buffer);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;Errors Logged &quot;</span> &lt;&lt; errorlog.<a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html#af27566f00fb6fa6bf1e6cc671cfce765">NumErrors</a>() &lt;&lt; <span class="stringliteral">&quot; Warnings Logged &quot;</span> &lt;&lt; errorlog.<a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html#a42d15b8cae05acd6cb82f073842b0856">NumWarnings</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">if</span>(errorlog.<a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html#af27566f00fb6fa6bf1e6cc671cfce765">NumErrors</a>() &gt; 0 || errorlog.<a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html#a42d15b8cae05acd6cb82f073842b0856">NumWarnings</a>() &gt; 0) </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            os &lt;&lt; errorlog;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        this-&gt;LogReceiveDicosFile(<span class="stringliteral">&quot;File Error&quot;</span>, buffer.str().c_str());</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordtype">void</span> LogReceiveDicosFile(<span class="keyword">const</span> <span class="keywordtype">char</span> * source, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_dcs_string.html">SDICOS::DcsString</a>&amp; message, <span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a>&amp; el)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">if</span>(el.<a class="code" href="class_s_d_i_c_o_s_1_1_error_log.html#af27566f00fb6fa6bf1e6cc671cfce765">NumErrors</a>() &gt; 0) </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            std::stringbuf buffer;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            std::ostream os(&amp;buffer);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            os &lt;&lt; el&lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;received dicos data Source: &quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot; Message: &quot;</span> &lt;&lt; message.<a class="code" href="class_s_d_i_c_o_s_1_1_dcs_string.html#ab042db612f82e9cceaa420ef136e0e62">Get</a>() &lt;&lt; <span class="stringliteral">&quot; Errors: &quot;</span> &lt;&lt; buffer.str().c_str() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;received dicos data Source: &quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot; Message: &quot;</span> &lt;&lt; message.<a class="code" href="class_s_d_i_c_o_s_1_1_dcs_string.html#ab042db612f82e9cceaa420ef136e0e62">Get</a>() &lt;&lt; <span class="stringliteral">&quot; No Errors&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordtype">void</span> LogReceiveDicosFile(<span class="keyword">const</span> <span class="keywordtype">char</span> * source, <span class="keyword">const</span> <span class="keywordtype">char</span> * message)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;received dicos data Source: &quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot; Message: &quot;</span> &lt;&lt; message &lt;&lt; std::endl;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordtype">void</span> ProcessCTDataOnAnotherThread(<span class="keyword">const</span> <a class="code" href="class_s_d_i_c_o_s_1_1_c_t.html">SDICOS::CT</a>* pCT)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="comment">// Stub method for processing CT Data</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="comment">// Callback handler is now responsible for deleting DICOS data</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keyword">delete</span> pCT;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;};</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;} <span class="comment">// namespace ConformanceTesting</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_host_2_conformance_testing_server_2main_8cpp.html#a64d28f49232d9fada3edd46309ab6830">PrintUsage</a>();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="_host_2_conformance_testing_server_2main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">  267</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="_host_2_conformance_testing_server_2main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; argc; ++i) </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">if</span>( 0 == strcmp(<span class="stringliteral">&quot;-help&quot;</span>, argv[i]) || </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            (0 == strcmp(<span class="stringliteral">&quot;--help&quot;</span>, argv[i])) ||</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            (0 == strcmp(<span class="stringliteral">&quot;/H&quot;</span>, argv[i]))) </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <a class="code" href="_host_2_conformance_testing_server_2main_8cpp.html#a64d28f49232d9fada3edd46309ab6830">PrintUsage</a>();</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordflow">return</span>(<a class="code" href="_host_2_conformance_testing_server_2main_8cpp.html#a687984f47d8cce148d1b914d2b79612a">EXIT_SUCCESS</a>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">/* Parse command line args for port and IP address */</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> * ip(NULL);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    SDICOS::S_INT32 port(0);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; argc; ++i) </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span>(0 == strcmp(<span class="stringliteral">&quot;-ip&quot;</span>, argv[i])) </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">if</span>(argc &gt; (i+1)) </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                ip = argv[i+1];</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        } </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (0 == strcmp(<span class="stringliteral">&quot;-port&quot;</span>, argv[i])) </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">if</span>(argc &gt; (i+1)) </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                port = atoi(argv[i+1]);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordtype">int</span> numErrors = 0;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span>(NULL == ip) </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;IP Address for listening must be specified.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        ++numErrors;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">if</span>(port &lt;= 0) </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;Port for listening cannot be &lt;= 0&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        ++numErrors;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span>(numErrors) </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <a class="code" href="_host_2_conformance_testing_server_2main_8cpp.html#a64d28f49232d9fada3edd46309ab6830">PrintUsage</a>();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_host_2_conformance_testing_server_2main_8cpp.html#a73efe787c131b385070f25d18b7c9aa4">EXIT_FAILURE</a>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html">SDICOS::Network::DcsServer</a> server;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    ConformanceTesting::DICOSCallbackHandler handler;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">bool</span> bRes(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="comment"></span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">    /// Server application name that Client connects to. Must by of type SDICOS.DcsApplicationEntity.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">    /// This parameter corresponds to the Destination Application name property in the SDICOS.Network.DcsClient class</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">    /// and is parameter to the SendOverNetwork() method in the User-Level API objects. e.g. SDICOS.CT.</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment"></span>    bRes = server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a070fd42e3ab8a496223e5a0ff4899ff9">SetApplicationName</a>(<span class="stringliteral">&quot;Conf&quot;</span>) &amp;&amp; bRes;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    bRes = server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a8594d5606f3fa7839b91a6cc0f545dc0">SetIP</a>(ip) &amp;&amp; bRes;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    bRes = server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#ad56a76446f6552d83443754e40a0a36c">SetPort</a>(port) &amp;&amp; bRes;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// The maximum number of milliseconds to wait on a socket read operation while no additional data is forthcoming.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">// The maximum number of milliseconds to wait for the socket to become writeable on a socket write operation. </span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// To wait indefinitely set value to 0. Default is 1000ms.</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    bRes = server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#ac69ba772849af624a640f8666681d602">SetReadTimeoutInMilliseconds</a>(500) &amp;&amp; bRes;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    bRes = server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a071b644591cd2d5ca99367a6f82e5574">SetWriteTimeoutInMilliseconds</a>(500) &amp;&amp; bRes;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">// Prefer clients to send uncompressed data, but still accept compressed data.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#af93fbd9c13c6340cfae46024f53a2bf2">PrioritizeDataCompression</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment"></span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">    /// Accept connections from all source application names to all destination application names.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">    /// The Source Application Name and Destination Application Name are members of the SDICOS.Network.DcsClient class.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">    /// They are also passed as parameters to the SendOverNetwork() call in the User-Level API objects. e.g. SDICOS.CT, SDICOS.AIT3D etc.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"></span>    server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a59461ec0fc6898866df29c84f11be10b">IgnoreApplicationNames</a>();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#af83b0279e988346749401844c979cde7">AllowAllCients</a>();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// See SdcsConfig.h</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="comment">// SDICOS::Config::EnableDcm_337_WorkArounds();</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// This call creates a thread that listens for connections and routes them to the User API callbacks    </span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">// Start listening for DICOS data using the specified handler and calling the User-Level API methods.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    bRes = server.<a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a5d856ec60ae14563db62b38990f487e8">StartListening</a>(handler, NULL, <a class="code" href="class_s_d_i_c_o_s_1_1_network_1_1_i_dcs_server.html#a5d3550a5b877bfe360dd18fe68f2819fac7a1e6ffdf1668524379700242cecb18">SDICOS::Network::DcsServer::enumMethodUserAPI</a>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// To restrict access to a specific application name</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">//server.EnableConnectionFromApplication(&quot;TestApp&quot;);</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">        For finer grain access by source application name call these methods:</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">            - server.EnableConnectionFromApplication()</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">            - server.DisableConnectionFromApplication()</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">while</span>(1) </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="comment">// Put custom server code here</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="namespace_s_d_i_c_o_s.html#a90ed27bcf5dfc4dda72fda0841fbcc71">SDICOS::SleepTime</a>(10);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="_host_2_conformance_testing_server_2main_8cpp.html#a64d28f49232d9fada3edd46309ab6830">  372</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_host_2_conformance_testing_server_2main_8cpp.html#a64d28f49232d9fada3edd46309ab6830">PrintUsage</a>()</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;{</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    printf(<span class="stringliteral">&quot;The ConformanceTesting listens for connections to a DcsHost on a specific port.\n&quot;</span>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    printf(<span class="stringliteral">&quot;options: [-ip,-port,-logDir]\n&quot;</span>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    printf(<span class="stringliteral">&quot;-ip IP. IP Address to listen on for connections. -ip 123.123.123.123\n&quot;</span>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    printf(<span class="stringliteral">&quot;-port Port. Port to listen on for connections. -port 1234\n&quot;</span>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    printf(<span class="stringliteral">&quot;-logDir Folder where error logs and save files will be written\n&quot;</span>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    printf(<span class="stringliteral">&quot;Example: ConformanceTesting -ip 123.234.345.456 -port 2000\n&quot;</span>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_a070fd42e3ab8a496223e5a0ff4899ff9"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a070fd42e3ab8a496223e5a0ff4899ff9">SDICOS::Network::DcsServer::SetApplicationName</a></div><div class="ttdeci">bool SetApplicationName(const DcsApplicationEntity &amp;ae)</div><div class="ttdoc">Set application name (i.e.</div></div>
<div class="ttc" id="a_host_2_conformance_testing_server_2main_8cpp_html_a687984f47d8cce148d1b914d2b79612a"><div class="ttname"><a href="_host_2_conformance_testing_server_2main_8cpp.html#a687984f47d8cce148d1b914d2b79612a">EXIT_SUCCESS</a></div><div class="ttdeci">#define EXIT_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="_host_2_conformance_testing_server_2main_8cpp_source.html#l00048">Host/ConformanceTestingServer/main.cpp:47</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_i_dcs_server_html_a5d3550a5b877bfe360dd18fe68f2819fac7a1e6ffdf1668524379700242cecb18"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_i_dcs_server.html#a5d3550a5b877bfe360dd18fe68f2819fac7a1e6ffdf1668524379700242cecb18">SDICOS::Network::IDcsServer::enumMethodUserAPI</a></div><div class="ttdeci">@ enumMethodUserAPI</div><div class="ttdoc">[Default] Always uses user-level API specific OnReceiveDicosFile() for known modalities</div><div class="ttdef"><b>Definition:</b> <a href="_i_host_8h_source.html#l00070">IHost.h:70</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_c_t_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_c_t.html">SDICOS::CT</a></div><div class="ttdoc">Represents a single CT scan with original pixel data.</div><div class="ttdef"><b>Definition:</b> <a href="_user_c_t_8h_source.html#l00196">UserCT.h:202</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_i_receive_callback.html">SDICOS::Network::IReceiveCallback</a></div><div class="ttdoc">Interface for callback functions used by DcsClient and DcsServer. Each function is a blocking call fo...</div><div class="ttdef"><b>Definition:</b> <a href="_i_receive_callback_8h_source.html#l00053">IReceiveCallback.h:54</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_linked_list_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_linked_list.html">SDICOS::LinkedList</a></div><div class="ttdef"><b>Definition:</b> <a href="_tools_light_8h_source.html#l00383">ToolsLight.h:384</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_error_log_html_af27566f00fb6fa6bf1e6cc671cfce765"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_error_log.html#af27566f00fb6fa6bf1e6cc671cfce765">SDICOS::ErrorLog::NumErrors</a></div><div class="ttdeci">S_UINT32 NumErrors() const</div><div class="ttdoc">Return number of errors.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html">SDICOS::Network::DcsServer</a></div><div class="ttdoc">The DICOS server uses the DICOM protocol for receiving data over a TCP/IP connection.</div><div class="ttdef"><b>Definition:</b> <a href="_host_8h_source.html#l00053">Host.h:54</a></div></div>
<div class="ttc" id="a_host_2_conformance_testing_server_2main_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="_host_2_conformance_testing_server_2main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition:</b> <a href="_host_2_conformance_testing_server_2main_8cpp_source.html#l00267">Host/ConformanceTestingServer/main.cpp:267</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_error_log_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_error_log.html">SDICOS::ErrorLog</a></div><div class="ttdoc">Implements ErrorLog.</div><div class="ttdef"><b>Definition:</b> <a href="_error_log_8h_source.html#l00054">ErrorLog.h:55</a></div></div>
<div class="ttc" id="a_d_i_c_o_s_8h_html"><div class="ttname"><a href="_d_i_c_o_s_8h.html">DICOS.h</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_a071b644591cd2d5ca99367a6f82e5574"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a071b644591cd2d5ca99367a6f82e5574">SDICOS::Network::DcsServer::SetWriteTimeoutInMilliseconds</a></div><div class="ttdeci">bool SetWriteTimeoutInMilliseconds(const S_UINT32 nTimeoutMilliseconds=1000)</div><div class="ttdoc">Set timeout for receiving and sending data. Default is 1000 ms.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_a8594d5606f3fa7839b91a6cc0f545dc0"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a8594d5606f3fa7839b91a6cc0f545dc0">SDICOS::Network::DcsServer::SetIP</a></div><div class="ttdeci">bool SetIP(const DcsString &amp;ds)</div><div class="ttdoc">Set the server's IP address.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_error_log_html_a42d15b8cae05acd6cb82f073842b0856"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_error_log.html#a42d15b8cae05acd6cb82f073842b0856">SDICOS::ErrorLog::NumWarnings</a></div><div class="ttdeci">S_UINT32 NumWarnings() const</div><div class="ttdoc">Return the number of warnings.</div></div>
<div class="ttc" id="a_host_2_conformance_testing_server_2main_8cpp_html_a64d28f49232d9fada3edd46309ab6830"><div class="ttname"><a href="_host_2_conformance_testing_server_2main_8cpp.html#a64d28f49232d9fada3edd46309ab6830">PrintUsage</a></div><div class="ttdeci">void PrintUsage()</div><div class="ttdef"><b>Definition:</b> <a href="_host_2_conformance_testing_server_2main_8cpp_source.html#l00372">Host/ConformanceTestingServer/main.cpp:372</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_attribute_manager_html_a1c8f02752c20efa9e1e3a51f2b600721"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_attribute_manager.html#a1c8f02752c20efa9e1e3a51f2b600721">SDICOS::AttributeManager::GetTransferSyntax</a></div><div class="ttdeci">DcsString GetTransferSyntax() const</div><div class="ttdoc">Returns the transfer syntax.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_html_a769e5bbaa37e937cb6bac9c789910a78"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html#a769e5bbaa37e937cb6bac9c789910a78">SDICOS::Utils::DicosData::TakeOwnership</a></div><div class="ttdeci">void TakeOwnership(TYPE *&amp;pdata)</div><div class="ttdoc">Removes data ownership from this object into the parameter.</div><div class="ttdef"><b>Definition:</b> <a href="_utils_8h_source.html#l00269">Utils.h:269</a></div></div>
<div class="ttc" id="anamespace_conformance_testing_html"><div class="ttname"><a href="namespace_conformance_testing.html">ConformanceTesting</a></div><div class="ttdef"><b>Definition:</b> <a href="_host_2_conformance_testing_server_2main_8cpp_source.html#l00050">Host/ConformanceTestingServer/main.cpp:51</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_linked_list_html_ac0af6f5e99aad03e05216d26b5b84a01"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_linked_list.html#ac0af6f5e99aad03e05216d26b5b84a01">SDICOS::LinkedList::Length</a></div><div class="ttdeci">S_UINT64 Length() const</div><div class="ttdoc">Get Length of list.</div><div class="ttdef"><b>Definition:</b> <a href="_tools_light_8h_source.html#l00654">ToolsLight.h:654</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_dcs_string_html_ab042db612f82e9cceaa420ef136e0e62"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_dcs_string.html#ab042db612f82e9cceaa420ef136e0e62">SDICOS::DcsString::Get</a></div><div class="ttdeci">const char * Get() const</div><div class="ttdoc">Get the string.</div></div>
<div class="ttc" id="anamespace_s_d_i_c_o_s_html_a90ed27bcf5dfc4dda72fda0841fbcc71"><div class="ttname"><a href="namespace_s_d_i_c_o_s.html#a90ed27bcf5dfc4dda72fda0841fbcc71">SDICOS::SleepTime</a></div><div class="ttdeci">void SleepTime(unsigned int nMilliSecs)</div><div class="ttdoc">Sleep for a certain number of milliseconds.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_a59461ec0fc6898866df29c84f11be10b"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a59461ec0fc6898866df29c84f11be10b">SDICOS::Network::DcsServer::IgnoreApplicationNames</a></div><div class="ttdeci">bool IgnoreApplicationNames()</div><div class="ttdoc">Allow connections from clients with any application name.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_a5d856ec60ae14563db62b38990f487e8"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#a5d856ec60ae14563db62b38990f487e8">SDICOS::Network::DcsServer::StartListening</a></div><div class="ttdeci">bool StartListening(IReceiveCallback &amp;icallback, IClientAuthenticationCallback *pIClientVerificationCallback=S_NULL, const RETRIEVE_METHOD nPreferAPI=DcsServer::enumMethodUserAPI, const bool bProcessDataOnSessionEnd=false)</div><div class="ttdoc">(Non-blocking call) Start the server to process DICOS data received by incoming client connections.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_af83b0279e988346749401844c979cde7"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#af83b0279e988346749401844c979cde7">SDICOS::Network::DcsServer::AllowAllCients</a></div><div class="ttdeci">bool AllowAllCients()</div><div class="ttdoc">Requires all clients to present no user name or passcode. This is the default setting.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_ac69ba772849af624a640f8666681d602"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#ac69ba772849af624a640f8666681d602">SDICOS::Network::DcsServer::SetReadTimeoutInMilliseconds</a></div><div class="ttdeci">bool SetReadTimeoutInMilliseconds(const S_UINT32 nTimeoutMilliseconds=1000)</div><div class="ttdoc">Set timeout for receiving and sending data. Default is 1000 ms.</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_i_o_d_common_html_a41298db2be00a8966aa16caeb44ad488"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_i_o_d_common.html#a41298db2be00a8966aa16caeb44ad488">SDICOS::IODCommon::GetSopInstanceUID</a></div><div class="ttdeci">const DcsUniqueIdentifier &amp; GetSopInstanceUID() const</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_scanner_common_html_ab7916fd0a91efe17a207a3cc89267b9d"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_scanner_common.html#ab7916fd0a91efe17a207a3cc89267b9d">SDICOS::ScannerCommon::GetSopCommon</a></div><div class="ttdeci">bool GetSopCommon(SopCommonModule &amp;sopcommon) const</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_session_data_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_session_data.html">SDICOS::Utils::SessionData</a></div><div class="ttdef"><b>Definition:</b> <a href="_utils_8h_source.html#l00439">Utils.h:440</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_utils_1_1_dicos_data_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_utils_1_1_dicos_data.html">SDICOS::Utils::DicosData</a></div><div class="ttdoc">Structure for holding DICOS used in callback functions. Data can be moved out of this object.</div><div class="ttdef"><b>Definition:</b> <a href="_utils_8h_source.html#l00182">Utils.h:183</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_attribute_manager_html_ab80c4e9b880ba5284b657533bb93da6d"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_attribute_manager.html#ab80c4e9b880ba5284b657533bb93da6d">SDICOS::AttributeManager::GetTagListing</a></div><div class="ttdeci">bool GetTagListing(TagList &amp;listTags, const bool bExpandSquences) const</div><div class="ttdoc">Get list of all tags in manager.</div></div>
<div class="ttc" id="a_host_2_conformance_testing_server_2main_8cpp_html_a73efe787c131b385070f25d18b7c9aa4"><div class="ttname"><a href="_host_2_conformance_testing_server_2main_8cpp.html#a73efe787c131b385070f25d18b7c9aa4">EXIT_FAILURE</a></div><div class="ttdeci">#define EXIT_FAILURE</div><div class="ttdoc">Stratovan Corporation Copyright and Disclaimer Notice:</div><div class="ttdef"><b>Definition:</b> <a href="_host_2_conformance_testing_server_2main_8cpp_source.html#l00044">Host/ConformanceTestingServer/main.cpp:43</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_dcs_string_html"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_dcs_string.html">SDICOS::DcsString</a></div><div class="ttdoc">String class for char or wide char.</div><div class="ttdef"><b>Definition:</b> <a href="_string_8h_source.html#l00047">String.h:48</a></div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_af93fbd9c13c6340cfae46024f53a2bf2"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#af93fbd9c13c6340cfae46024f53a2bf2">SDICOS::Network::DcsServer::PrioritizeDataCompression</a></div><div class="ttdeci">void PrioritizeDataCompression(const bool bPrioritize)</div><div class="ttdoc">Set parameter to true to prioritize using compression transfer syntaxes for data transfers between th...</div></div>
<div class="ttc" id="aclass_s_d_i_c_o_s_1_1_network_1_1_dcs_server_html_ad56a76446f6552d83443754e40a0a36c"><div class="ttname"><a href="class_s_d_i_c_o_s_1_1_network_1_1_dcs_server.html#ad56a76446f6552d83443754e40a0a36c">SDICOS::Network::DcsServer::SetPort</a></div><div class="ttdeci">bool SetPort(const S_INT32 nPort)</div><div class="ttdoc">Set listening port.</div></div>
<!--
Stratovan Corporation Copyright and Disclaimer Notice:
Copyright (c) 2014 Stratovan Corporation. All Rights Reserved.
Permission to use, copy, modify, and distribute this software and its
documentation without a signed licensing agreement, is hereby granted,
provided that this copyright notice, this paragraph and the following two
paragraphs appear in all copies, modifications, and distributions.
IN NO EVENT SHALL STRATOVAN BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT,
SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS,
ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF
STRATOVAN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
STRATOVAN SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT LIMITED
TO, THE IMPLIED WARRANTIES OF USE AND FITNESS FOR A PARTICULAR PURPOSE. THE
SOFTWARE AND ACCOMPANYING DOCUMENTATION, IF ANY, PROVIDED HEREUNDER IS
PROVIDED "AS IS". STRATOVAN HAS NO OBLIGATION TO PROVIDE MAINTENANCE,
SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS UNLESS DIRECTED BY THE
U.S. GOVERNMENT'S TRANSPORTATION SECURITY ADMINISTRATION (TSA).
-->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
    <center>Copyright (c) 2014 by Stratovan Corporation</br>
    Generated on Mon Sep 25 2023 00:04:55 for Stratovan DICOS Toolkit Class Interfaces and Architecture by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18</center>
</small></address>
</body>
</html>
